from circuits import MPTLastCircuit

witness_gen_path = (
    "/home/ostadgeorge/work/nobitex/sigmab/circuit/temp/mpt_last/mpt_last_cpp/mpt_last"
)
prover_path = (
    "/home/ostadgeorge/work/nobitex/sigmab/circuit/rapidsnark/package/bin/prover"
)
snarkjs_path = "/home/ostadgeorge/.nvm/versions/node/v20.12.1/bin/snarkjs"
zk_params_path = (
    "/home/ostadgeorge/work/nobitex/sigmab/circuit/temp/mpt_last/mpt_last_0001.zkey"
)

mpt_last_circuit = MPTLastCircuit(
    witness_generator_path=witness_gen_path,
    prover_path=prover_path,
    snarkjs_path=snarkjs_path,
    zk_params_path=zk_params_path,
)

salt = 55385
addressBytes = b"r}'\x0c\xb6\xd4'\xa41\xb0\xc5\xa8\x8a\xd6I\x17\x12\xc8`a"
nonce = 2
balance = 90313886187000
storageHash = b'V\xe8\x1f\x17\x1b\xccU\xa6\xff\x83E\xe6\x92\xc0\xf8n[H\xe0\x1b\x99l\xad\xc0\x01b/\xb5\xe3c\xb4!'
codeHash = b"\xc5\xd2F\x01\x86\xf7#<\x92~}\xb2\xdc\xc7\x03\xc0\xe5\x00\xb6S\xca\x82';{\xfa\xd8\x04]\x85\xa4p"
lowerLayerPrefix = b'\xf8l\x9d \xd54\x03\x0c\x8a\xdf\x19\xc4`\x1f\x9c\x91\xf2rj\x97\xd5\xb9C\x86\xc46\xe1L\xed\xe5\xd5\x08\xb8L\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
lowerLayerPrefixLen = 34
ECDS_commitment = "17732993494930714578472041011681971344842253204917651973500252310490833826080"

witness_path = mpt_last_circuit.generate_witness(
    salt=salt,
    addressBytes=addressBytes,
    lowerLayerPrefix=lowerLayerPrefix,
    nonce=nonce,
    balance=balance,
    storageHash=storageHash,
    codeHash=codeHash,
    ecdsa_commitment=ECDS_commitment,
)
print(witness_path)

proof_path = mpt_last_circuit.prove(witness_path)
print(proof_path)